{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Report Faults{% endblock %}</h1>
{% endblock %}

    {% block content %}
<!--        <form method="post">-->

<!--            <label for="device_serial_number">Device serial number:</label>-->
<!--            <input name="device_serial_number" id="device_serial_number" required>-->

<!--            <label for="severity_id">Severity:</label>-->
<!--                <select name="severity_id">-->
<!--                  {% for severity in severities %}-->
<!--                    <option value="{{ severity }}" SELECTED>{{ severity }}</option>-->
<!--                  {% endfor %}-->
<!--                </select>-->

<!--            <label for="category_id">Category:</label>-->
<!--                <select name="category_id">-->
<!--                  {% for category in categories %}-->
<!--                    <option value="{{ category }}" SELECTED>{{ category }}</option>-->
<!--                  {% endfor %}-->
<!--                </select>-->

<!--            <label for="latitude">Latitude:</label>-->
<!--            <input name="latitude" id="latitude" required>-->

<!--            <label for="longitude">Longitude:</label>-->
<!--            <input name="longitude" id="longitude" required>-->

<!--            <label for="description">Description:</label>-->
<!--            <input name="description" id="description" required>-->

<!--            <label for="category_id">Category ID:</label>-->
<!--            <input name="category_id" id="category_id" required>-->

<!--            <input type="submit" value="Submit">-->
<!--        </form>-->


      <div class="container d-flex justify-content-center align-items-center">
    <form method="POST" class="col-md-6">
      <h3 class="mb-3 text-center">Report fault</h3>
      <div class="form-group">
          <input
          type="number"
          min="1000000"
          class="form-control"
          id="device_serial_number"
          name="device_serial_number"
          placeholder="Device serial number"
          required
        />
          <input
          type="number"
          class="form-control"
          id="latitude"
          name="latitude"
          placeholder="Latitude"
          min="-90"
          max="90"
          step="0.000001"
          required
        />
          <input
          type="number"
          class="form-control"
          id="longitude"
          name="longitude"
          placeholder="Longitude"
          min="-180"
          max="180"
          step="0.000001"
          required
        />
          <input
          type="text"
          class="form-control"
          id="description"
          name="description"
          placeholder="Description:"
          required
        />
        <label for="severity_id">Severity:</label>
            <select name="severity_id">
              {% for severity in severities %}
                <option value="{{ severity }}" SELECTED>{{ severity }}</option>
              {% endfor %}
            </select>

        <label for="category_id">Category:</label>
            <select name="category_id">
              {% for category in categories %}
                <option value="{{ category }}" SELECTED>{{ category }}</option>
              {% endfor %}
            </select>
      </div>
      <br />
      <div class="form-group text-center">
      <button type="submit" class="btn btn-primary">Report Fault</button>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', function () {
            const closeButtons = document.querySelectorAll('.flash-message .close');
            closeButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    const flashMessage = this.parentNode;
                    flashMessage.style.display = 'none';
                });
            });
        });
    </script>
     
    </form>
<!--  </div>-->
<!--    {% if successful %}-->
<!--         <div class="alert alert-success" role="alert">-->
<!--            Your request was successful!-->
<!--        </div>-->
<!--        <a class="btn btn-primary" href="/">-->
<!--                Go to login page-->
<!--        </a>-->
<!--    {%  endif  %}-->
  {% endblock %}
