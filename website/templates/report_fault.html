{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}Report Faults{% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center">
  <form method="POST" class="col-md-6">
    <h3 class="mb-3 text-center">Report fault</h3>
    <div class="form-group">
      <input type="number" min="1000000" class="form-control" id="device_serial_number" name="device_serial_number"
        placeholder="Device serial number" required />
      <input type="number" class="form-control" id="latitude" name="latitude" placeholder="Latitude" min="-90" max="90"
        step="0.000001" required />
      <input type="number" class="form-control" id="longitude" name="longitude" placeholder="Longitude" min="-180"
        max="180" step="0.000001" required />
      <input type="text" class="form-control" id="description" name="description" placeholder="Description:" required />
      <label for="severity_id">Severity:</label>
      <select name="severity_id">
        {% for severity in severities %}
        <option value="{{ severity }}" SELECTED>{{ severity }}</option>
        {% endfor %}
      </select>

      <label for="category_id">Category:</label>
      <select name="category_id">
        {% for category in categories %}
        <option value="{{ category }}" SELECTED>{{ category }}</option>
        {% endfor %}
      </select>
    </div>
    <br />
    <div class="form-group text-center">
      <button type="submit" class="btn btn-primary">Report Fault</button>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const closeButtons = document.querySelectorAll('.flash-message .close');
        closeButtons.forEach(function (button) {
          button.addEventListener('click', function () {
            const flashMessage = this.parentNode;
            flashMessage.style.display = 'none';
          });
        });
      });
    </script>

  </form>
  {% endblock %}