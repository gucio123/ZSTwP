{% extends "base.html" %}

{% block content %}
  <div class="container justify-content-center align-items-center col-md-6">
    <div class="row border rounded overflow-hidden position-relative ">
      <div class="col p-4">
        <h4 class="mb-3 text-center">Ticket {{ ticket.id }}</h4>
        <br/>
        <label for="reported_date">Reported date:</label>
        <br/>
        <div id="reported_date">
          {{ ticket.reported_date }}
        </div>
        <br />
        <label for="due_date">Due date:</label>
        <br/>
        <div id="due_date">
          {{ ticket.due_date }}
        </div>
        <br />
        <label for="physical_assistance_required">Is physical assistance required?</label>
        <br/>
        <div id="physical_assistance_required">
          {% if ticket.physical_assistance_req %}
            Yes
          {% else %}
            No
          {% endif %}
        </div>


      <div class="row border rounded overflow-hidden position-relative ">
        <div class="col p-4">
          <h5 class="mb-3 text-center">Fault {{ fault.id }}</h5>
          <br/>
          <label for="fault_description">Description:</label>
          <br/>
          <div id="fault_description">
            {{ fault.description }}
          </div>
          <br />
          <label for="category">Category:</label>
          <br/>
          <div id="category">
            {{ fault.category_id }}
          </div>
          <br />
          <label for="severity">Severity:</label>
          <br/>
          <div id="severity">
            {{ fault.severity_id }}
          </div>
          <br />
          <label for="coords">Coordinates:</label>
          <br/>
          <div id="coords">
            Lat: {{ fault.latitude }}
            <br/>
            Lon: {{ fault.longitude }}
          </div>
          <br />
        </div>
      </div>

      <div class="row border rounded overflow-hidden position-relative ">
        <div class="col p-4">
          <form method="POST" id="myForm">
            <button type="submit" class="btn btn-lg btn-primary" formaction="{{ url_for('/ticket.mark_ticket_as_done', ticket_id=ticket.id) }}" id="done_btn_{{ ticket.id }}">Done</button>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock %}